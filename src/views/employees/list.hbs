<div class="d-flex justify-content-between align-items-center mb-3">
  <h3 class="mb-0">Employees</h3>

  <div class="d-flex align-items-center gap-2">
    <!-- âœ… Search Form -->
    <form class="d-flex" method="GET" action="/employees">
      <input
        type="text"
        name="q"
        class="form-control"
        placeholder="Search name, email, phone..."
        value="{{q}}"
        style="min-width: 320px;"
      />
      <button class="btn btn-outline-secondary ms-2" type="submit">Search</button>

      {{#if q}}
        <a class="btn btn-outline-danger ms-2" href="/employees">Clear</a>
      {{/if}}
    </form>

    <a class="btn btn-primary" href="/employees/new">Create</a>
  </div>
</div>

<table class="table table-bordered table-hover bg-white">
  <thead class="table-light">
    <tr>
      <th>ID</th>
      <th>Name</th>
      <th>Email</th>
      <th>Phone</th>
      <th>Designation</th>
      <th>Status</th>
      <th style="width: 240px;">Actions</th>
    </tr>
  </thead>
  <tbody>
    {{#if employees.length}}
      {{#each employees}}
        <tr>
          <td>{{this.id}}</td>
          <td>{{this.fullName}}</td>
          <td>{{this.email}}</td>
          <td>{{this.phone}}</td>
          <td>{{this.designation}}</td>
          <td>
            {{#if (eq this.status "ACTIVE")}}
              <span class="badge bg-success">ACTIVE</span>
            {{else}}
              <span class="badge bg-secondary">INACTIVE</span>
            {{/if}}
          </td>
          <td>
            <a class="btn btn-sm btn-info" href="/employees/{{this.id}}">View</a>
            <a class="btn btn-sm btn-warning" href="/employees/{{this.id}}/edit">Edit</a>

            <form action="/employees/{{this.id}}?_method=DELETE" method="POST" class="d-inline"
                  onsubmit="return confirm('Delete this employee?')">
              <button class="btn btn-sm btn-danger" type="submit">Delete</button>
            </form>
          </td>
        </tr>
      {{/each}}
    {{else}}
      <tr>
        <td colspan="7" class="text-center text-muted">No employees found</td>
      </tr>
    {{/if}}
  </tbody>
</table>
